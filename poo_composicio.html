<!DOCTYPE html>
<html class="writer-html5" lang="ca" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Composició &mdash; Introducció a la programació amb Java 2022-23 documentació</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="_static/moistyle.css" type="text/css" />
    <link rel="shortcut icon" href="_static/logoprg.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/translations.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="author" title="Quant a aquests documents" href="about.html" />
    <link rel="index" title="Índex" href="genindex.html" />
    <link rel="search" title="Cerca" href="search.html" />
    <link rel="next" title="Herència" href="poo_herencia.html" />
    <link rel="prev" title="Membres d&#39;instància i de classe" href="poo_static.html" />
     
    <script class="googleanalytics" src="_static/moiscripts.js"></script>
    <meta name="robots" content="noindex">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Introducció a la programació amb Java
            <img src="_static/logoprg.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                Curs 2022-23
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="primeres_passes.html">Primeres passes</a></li>
<li class="toctree-l1"><a class="reference internal" href="basics.html">Elements bàsics de la programació</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduls.html">Mòduls</a></li>
<li class="toctree-l1"><a class="reference internal" href="fitxers.html">Fitxers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="poo.html">Programació Orientada a Objectes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="poo_intro.html">Classes i objectes</a></li>
<li class="toctree-l2"><a class="reference internal" href="poo_constructors.html">Constructors</a></li>
<li class="toctree-l2"><a class="reference internal" href="poo_static.html">Membres d'instància i de classe</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Composició</a></li>
<li class="toctree-l2"><a class="reference internal" href="poo_herencia.html">Herència</a></li>
<li class="toctree-l2"><a class="reference internal" href="poo_exercicis.html">Exercicis</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="adoo.html">Anàlisi i Disseny Orientats a Objectes</a></li>
<li class="toctree-l1"><a class="reference internal" href="bib.html">Biblioteques</a></li>
<li class="toctree-l1"><a class="reference internal" href="cvs.html">Control de versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="test.html">Validació d'aplicacions</a></li>
<li class="toctree-l1"><a class="reference internal" href="refactoring.html">Refactoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="apendix.html">Apèndix</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Introducció a la programació amb Java</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="poo.html">Programació Orientada a Objectes</a></li>
      <li class="breadcrumb-item active">Composició</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="poo_static.html" class="btn btn-neutral float-left" title="Membres d&#39;instància i de classe" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="poo_herencia.html" class="btn btn-neutral float-right" title="Herència" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
    
           <div itemprop="articleBody">
             
  <div class="section" id="composicio">
<h1>Composició<a class="headerlink" href="#composicio" title="Permalink to this heading"></a></h1>
<p>En la programació orientada a objectes, els programes es composen de
classes que interaccionen les unes amb les altres. Aquesta interacció
de les classes es realitza en funció de la relació que tenen aquestes
classes entre si.</p>
<p>Una de les relacions interessants és la de <em>composició</em> amb la que un
objecte es composa d'altres objectes que fa servir per a aconseguir el seu
objectiu.</p>
<p>Podem entendre-ho com que una instància <em>conté</em> instàncies d'una altra
classe. Per exemple, un cotxe conté rodes, volant, etc.</p>
<div class="figure align-center">
<p class="plantuml">
<img src="_images/plantuml-34d31d0f929f4983469e042e1752276444eeb2a6.png" alt=" &#64;startuml
 hide circle
 skinparam monochrome true
 skinparam classAttributeIconSize 0

 Cotxe *- Roda
 Cotxe *-left- Volant

 &#64;enduml"/>
</p>
</div>
<p>La implementació de la composició no pot ser més senzilla: a partir
d'atributs.</p>
<p>Per exemple:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Cotxe</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2</span><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">matricula</span><span class="p">;</span>
<span class="linenos"> 3</span><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Volant</span><span class="w"> </span><span class="n">volant</span><span class="p">;</span>
<span class="linenos"> 4</span><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Roda</span><span class="o">[]</span><span class="w"> </span><span class="n">rodes</span><span class="p">;</span>
<span class="linenos"> 5</span><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Cotxe</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">matricula</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">numRodes</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 6</span><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">matricula</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">matricula</span><span class="p">;</span>
<span class="linenos"> 7</span><span class="w">        </span><span class="n">volant</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Volant</span><span class="p">();</span>
<span class="linenos"> 8</span><span class="w">        </span><span class="n">rodes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Roda</span><span class="o">[</span><span class="n">numRodes</span><span class="o">]</span><span class="p">;</span>
<span class="linenos"> 9</span><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">numRodes</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">10</span><span class="w">            </span><span class="n">rodes</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Roda</span><span class="p">();</span>
<span class="linenos">11</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">12</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">13</span><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getMatricula</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">matricula</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos">14</span><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Roda</span><span class="w"> </span><span class="nf">getRoda</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">numRoda</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">15</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">numRoda</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">numRoda</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">rodes</span><span class="p">.</span><span class="na">length</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="linenos">16</span><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">rodes</span><span class="o">[</span><span class="n">numRoda</span><span class="o">]</span><span class="p">;</span>
<span class="linenos">17</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">18</span><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Volant</span><span class="w"> </span><span class="nf">getVolant</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">volant</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos">19</span><span class="p">}</span>
</pre></div>
</div>
<p>Les classes <code class="docutils literal notranslate"><span class="pre">Volant</span></code> i <code class="docutils literal notranslate"><span class="pre">Roda</span></code> han d'estar també definides, com també
ho està <code class="docutils literal notranslate"><span class="pre">String</span></code>.</p>
<p><img alt="exerciseicon__T" src="_images/exerciseicon__T.png" /> <a class="reference internal" href="exercici_34_29_ulls.html"><span class="doc"> Exercici 34_29. Els ulls del gat Renat</span></a></p>
<p><img alt="exerciseicon__T" src="_images/exerciseicon__T.png" /> <a class="reference internal" href="exercici_34_30_picarol.html"><span class="doc"> Exercici 34_30. El Picarol</span></a></p>
<div class="section" id="un-tema-breu">
<h2>Un tema breu?<a class="headerlink" href="#un-tema-breu" title="Permalink to this heading"></a></h2>
<p>Aquest ha estat un tema molt breu, oi?</p>
<p>No et deixis enganyar. La composició és una de les maneres més potents per
reutilitzar classes doncs si podem descomposar una classe en altres que ja
tenim, ens podem estalviar molta feina.</p>
<p>Sent precisos, amb composició estem agrupant dos conceptes diferents,
anomenats agregació i (pròpiament) composició.</p>
<p>L'exercici <a class="reference internal" href="exercici_34_29_ulls.html"><span class="doc">dels ulls</span></a> seria un exemple de
composició mentre que el <a class="reference internal" href="exercici_34_30_picarol.html"><span class="doc">del picarol</span></a>
correspondria a una agregació. Fixat que el picarol és quelcom <em>accessori</em>
pel nostre amic Renat. Es a dir, pot existir sense picarol. En canvi, els
ulls <em>formen part</em> del gat, en el sentit que neix amb ells.</p>
<p>En UML, les dues relacions es representen lleugerament diferents:</p>
<div class="figure align-center">
<p class="plantuml">
<img src="_images/plantuml-179e0b54770adfbe0425e1b5aed0319d44b77b2e.png" alt=" &#64;startuml
 hide circle
 skinparam monochrome true
 skinparam classAttributeIconSize 0

 GatRenat o- Picarol
 GatRenat *-left- UllDeGat

 &#64;enduml"/>
</p>
</div>
<p>No en farem gaire més èmfasi durant aquest curs. En cas que tinguis interès
en aprofundir en les diferències, pots consultar, per exemple <a class="reference external" href="https://techdifferences.com/difference-between-aggregation-and-composition.html">aquest article</a></p>
</div>
</div>


           </div>
          </div>
    <div class="googleanalytics">
    <div id="cookiesbox">
        Aquest lloc web utilitza galetes (<i>cookies</i>) per a analitzar el seu ús
        amb les eines que ofereix <a href="https://www.google.com/analytics">Google Analytics</a>.
        En continuar navegant-hi, estàs acceptant-ho.
        <br/>
        <a class="btn btn-neutral" onclick="setUserAcceptsCookies();">
            Tancar
            <span class="fa fa-window-close"></span>
        </a>
    </div>
    <script>setCookiesboxVisibility();</script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-41103782-2', 'auto');
      ga('send', 'pageview');
    </script>
</div>

          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="poo_static.html" class="btn btn-neutral float-left" title="Membres d&#39;instància i de classe" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="poo_herencia.html" class="btn btn-neutral float-right" title="Herència" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022-2023 Moisès Gómez Girón.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-41103782-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-41103782-2', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>