####################
Múltiples instàncies
####################

Fins ara hem definit una classe anomenada ``GatRenat``, i n'hem creat una
instància a la que ens hem referit amb la variable *renat*. Tot plegat,
ens pot portar a creure que la classe ``GatRenat`` representa a un únic
exemplar de gat Renat. Però no és el cas. En podem fer més de Renats.

Per simplicitat, és preferible entendre que la classe engloba a un *tipus*
o *classe* de gat molt particular, que coneixem de manera genèrica com a
*GatRenat*.

.. uml::
    :align: center

     @startuml
     hide circle
     skinparam monochrome true
     skinparam classAttributeIconSize 0


     object renatI
     renatI : vides = 7

     object renatII
     renatII : vides = 7

     @enduml


Considera el següent codi en el que tindrem més d'un gat Renat:

.. code-block:: java
    :linenos:

    public class GatRenat {
        public int vides = 7;   // vides disponibles del gat Renat

        public static void main(String[] args) {
            GatRenat renatI;
            renatI = new GatRenat();               // crea un primer gat Renat
            System.out.println("El gat Renat I té  " + renatI.vides + " vides");

            GatRenat renatII = new GatRenat();     // crea un segon gat Renat!
            System.out.println("El gat Renat II té " + renatII.vides + " vides");

            renatI.vides++;
            System.out.println("El gat Renat I té  " + renatI.vides + " vides");
            System.out.println("El gat Renat II té " + renatII.vides + " vides");

            renatII = renatI; // atenció: la instància de Renat II es perd!
            System.out.println("El gat Renat I té  " + renatI.vides + " vides");
            System.out.println("El gat Renat II té " + renatII.vides + " vides");

            renatI.vides++;
            System.out.println("El gat Renat I té  " + renatI.vides + " vides");
            System.out.println("El gat Renat II té " + renatII.vides + " vides");
        }
    }

Contesta les següents preguntes:

1. Quina és la sortida del programa?


#. Quanta memòria ocupa, com a mínim, una instància de ``GatRenat``?

   Si tens dubtes, revisa :doc:`aquest exercici <exercici_31_60_tipus_primitius>`.

#. Quantes instàncies hi ha de ``GatRenat`` tot just executat el codi fins la línia 5 (inclosa)?

#. I fins la línia 6?

#. I fins la línia 9?

#. Perquè les línies 7 i 10 mostren les mateixes vides pels gats Renat
   I i Renat II?

#. Perquè les línies 13 i 14 mostren diferent nombre de vides pels
   gats Renat I i Renat II?

#. Què creus que vol dir el comentari de la línia 16?

#. Perquè les línies 17 i 18 mostren les mateixes vides pels gats
   Renat I i Renat II?

#. Perquè les línies 21 i 22 mostren les mateixes vides pels gats
   Renat I i Renat II malgrat la instrucció de la línia 20?

#. Quantes instàncies hi ha quan s'executa la línia 20? Perquè?

|exerciseicon___| :doc:`exercici_34_05_multiples`

|exerciseicon__T| :doc:`exercici_34_06_molts_ascensors`
