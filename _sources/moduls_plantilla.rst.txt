############
La plantilla
############

Tots els programes que hem fet fins ara, es podrien codificar dins de la
següent plantilla:

.. code-block:: java
    :linenos:
    :emphasize-lines: 4-6

    /* Plantilla general dels programes que hem fet fins ara */
    public class NomDelPrograma {
        public static void main(String[] args) {
            /*
                aquí tot el codi
            */
        }
    }

Un problema conegut
-------------------

Per exemplificar l'ús d'aquesta plantilla, considerem el problema de
dibuixar un quadrat de 5x5 amb la lletra ``X``.
És a dir:

.. code-block:: none

     X X X X X
     X X X X X
     X X X X X
     X X X X X
     X X X X X

Tot i que el problema ja el coneixem i, si hem estat atents a la part anterior
del curs, a hores d'ara el sabem resoldre sense pensar-hi gaire, permetem-nos
per un moment fer una anàlisi pas a pas, per exemplificar el mecanisme
d'anàlisi descendent.

Resoldrem el problema en diferents iteracions.

Primera iteració: només comentari
---------------------------------

En primer lloc, sabem que el que hem de fer és *dibuixar un quadrat*. És a
dir, dibuixar les línies de ``X`` que composen el quadrat.

Afegi'm al nostre codi un comentari que indigui això que volem fer:

.. code-block:: java
    :linenos:
    :emphasize-lines: 4

    /* Programa que dibuixa un quadrat de 5x5 */
    public class Quadrat {
        public static void main(String[] args) {
            // dibuixa un quadrat
        }
    }

Segona iteració: recorregut per línies
--------------------------------------

Amb l'experiència del bloc anterior, sabem que dibuixar un quadrat es pot fer
amb un *recorregut* entre els números 1 i 5, que a per cadascun d'ells dibuixi
una línia de ``X``.

Els recorreguts, :doc:`tal i com hem vist <recorreguts>`, es realitzen d'una
manera molt adequada fent servir bucles *for*.

Afegim el codi del recorregut i un comentari per la part del dibuix de la línia.

.. code-block:: java
    :linenos:
    :emphasize-lines: 5-7

    /* Programa que dibuixa un quadrat de 5x5 */
    public class Quadrat {
        public static void main(String[] args) {
            // dibuixa un quadrat
            for (int linia=1; linia <= 5; linia++) {
                // dibuixa una línia
            }
        }
    }

Tercera iteració: recorregut per línies
---------------------------------------

També sabem, pel bloc anterior, que dibuixar una línia de ``X`` implica dibuixar els elements de la
línia i fer un salt de línia.

Més comentaris:

.. code-block:: java
    :linenos:
    :emphasize-lines: 6, 7

    /* Programa que dibuixa un quadrat de 5x5 */
    public class Quadrat {
        public static void main(String[] args) {
            // dibuixa un quadrat
            for (int linia=1; linia <= 5; linia++) {
                // dibuixa elements d'una línia
                // dibuixa un salt de línia
            }
        }
    }


Quarta iteració: dibuixar una línia
-----------------------------------

Ara tenim dos problemes: dibuixar els elements d'una línia i fer un salt de
línia.

Però ja sabem com dibuixar els elements d'una línia! Bàsicament hem de fer un
bucle que faci tantes iteracions (voltes) com elements hem de dibuixar, i a
cada volta, dibuixem un element. Novament, la manera més compacta de fer-ho és
amb un bucle *for*.

Podem entendre que tots cada element que dibuixem de la línia, en el conjunt de
les línies, forma part d'una columna.

Per altra banda, ja sabem com fer un salt de línia, oi? Doncs ja és un
element trivial que podem incorporar al nostre codi.

.. code-block:: java
    :linenos:
    :emphasize-lines: 7-9, 11

    /* Programa que dibuixa un quadrat de 5x5 */
    public class Quadrat {
        public static void main(String[] args) {
            // dibuixa un quadrat
            for (int linia=1; linia <= 5; linia++) {
                // dibuixa una línia
                for (int columna=1; columna <= 5; columna++) {
                    // dibuixa un element de la línia
                }
                // dibuixa un salt de línia
                System.out.println();
            }
        }
    }


Iteració final
--------------

A veure, dibuixar un element de la línia ens és tan fàcil com mostrar una
``X``. Així que ja ho tenim!

.. code-block:: java
    :linenos:
    :emphasize-lines: 9

    /* Programa que dibuixa un quadrat de 5x5 */
    public class Quadrat {
        public static void main(String[] args) {
            // dibuixa un quadrat
            for (int linia=1; linia <= 5; linia++) {
                // dibuixa una línia
                for (int columna=1; columna <= 5; columna++) {
                    // dibuixa un element de la línia
                    System.out.print(" X");
                }
                // dibuixa un salt de línia
                System.out.println();
            }
        }
    }

Execució del programa
---------------------

Una execució d'aquest programa seria:

.. code-block:: console
    :emphasize-lines: 2-

    $ java Quadrat
     X X X X X
     X X X X X
     X X X X X
     X X X X X
     X X X X X

Fins aquí, res especial a mencionar, oi? Hem fet un munt de programes com
aquest a :doc:`basics` com per espantar-nos!

El més important, però, és que siguem conscients que la nostra solució
respecta la plantilla que et comentava a l'inici d'aquesta pàgina:

.. code-block:: java
    :linenos:
    :emphasize-lines: 4-13

    /* Programa que dibuixa un quadrat de 5x5 */
    public class Quadrat {
        public static void main(String[] args) {
            // dibuixa un quadrat
            for (int linia=1; linia <= 5; linia++) {
                // dibuixa una línia
                for (int columna=1; columna <= 5; columna++) {
                    // dibuixa un element de la línia
                    System.out.print(" X");
                }
                // dibuixa un salt de línia
                System.out.println();
            }
        }
    }

|exerciseicon___| :doc:`exercici_16_01_quadrats`

Tindria sentit plantejar-se la possibilitat de fer programes que no s'adaptin a
aquesta plantilla?
